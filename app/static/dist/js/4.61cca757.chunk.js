(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[4],{330:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),c=r(9),o=r(315),i=r(67),u=r(321),l=r(313),s=r(318),p=r(316),f=Object(p.a)("SET_TABLE_LIST",(function(e){return function(t){return e({table_list:t})}})),b=Object(p.a)("REFRESH_TABLE_LIST",(function(e){return function(t,r){return e({pager:t,params:r})}})),O=Object(p.a)("SET_PAGER",(function(e){return function(t){return e({pager:t})}})),d=Object(p.a)("SET_SORT",(function(e){return function(t){return e({sort:t})}})),g=Object(p.a)("SET_SEARCH_FILTER",(function(e){return function(t){return e({filter:t})}})),j=Object(p.a)("SET_TABLE_FILTER",(function(e){return function(t){return e({filter:t})}})),y=Object(p.a)("SET_TABLE_LIST_LOADING",(function(e){return function(t){return e({loading:t})}})),m=Object(p.a)("SET_USER_DATA",(function(e){return function(t,r){return e({username:t,age:r})}}));function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var h={created_at:{name:"created_at",dir:"desc"}},w={data:[],loading:!1,pager:{current:1,pageSize:10,pageSizeOptions:["10","20","50","100","1000"],showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e){return"Total:".concat(e)}},search_filter:{},table_filter:{},sort:h},S=Object(s.a)({table:w}),_=Object(p.b)(S,(function(e){return[e(f,(function(e,t){var r=t.payload;return e.setIn(["table","data"],Object(s.a)(r.table_list))})),e(O,(function(e,t){var r=t.payload,n=e.setIn(["table","pager"],Object(s.a)(r.pager));return console.log("handle pager reducer",n.getIn(["table","pager"]).toJS()),n})),e(d,(function(e,t){var r=t.payload;return console.log("===sort",r.sort),e.setIn(["table","sort"],Object(s.a)(r.sort))})),e(g,(function(e,t){var r=t.payload;return e.setIn(["table","search_filter"],Object(s.a)(r.filter))})),e(j,(function(e,t){var r=t.payload;return e.setIn(["table","table_filter"],Object(s.a)(r.filter))})),e(y,(function(e,t){var r=t.payload;return e.setIn(["table","loading"],r.loading)})),e(m,(function(e,t){var r=t.payload,n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(r,!0).forEach((function(t){Object(l.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e.toJS(),{},r);return Object(s.a)(n)}))]})),E=Object(i.c)({orderList:_}),P=r(323),I=r(326),k=r(327),x=r(325),D=r(85),T=r(324),L=r(319);function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var z=function(e){return e.orderList.getIn(["table","data"])},A=function(e){return e.orderList.getIn(["table","pager"])},R=function(e){return e.orderList.getIn(["table","loading"])},B=Object(L.a)([function(e){return e.orderList.getIn(["table","search_filter"])},function(e){return e.orderList.getIn(["table","table_filter"])}],(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J(r,!0).forEach((function(t){Object(l.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e.toJS(),{},t.toJS())}));Object(L.a)([A,B,function(e){return e.orderList.getIn(["table","sort"])}],(function(e,t,r){return{current:e.get("current"),pageSize:e.get("pageSize"),sort:r.toJS(),filter:t}}));function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(r,!0).forEach((function(t){Object(l.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var F=P.a.Content,H=function(e){var t=Object(o.c)(z),r=Object(o.c)(A),c=Object(o.c)(R),i=Object(o.d)(),u=Object(o.b)(),l=function(){var e=i.getState().orderList.get("table").toJS(),t={current:e.pager.current,pageSize:e.pager.pageSize,sort:e.sort,filter:N({},e.search_filter,{},e.table_filter)};u(b(e.pager,t))};return Object(n.useEffect)((function(){l()}),[]),a.a.createElement(P.a,{className:"layout",style:{background:"white"}},a.a.createElement(I.a,null,a.a.createElement(k.a,{span:24},a.a.createElement(F,null,a.a.createElement(x.a,null,a.a.createElement(x.a.Item,null,"Home")),a.a.createElement("div",null,a.a.createElement("div",{className:"clearfix",style:{margin:"10px 0"}},a.a.createElement(D.a,{icon:"plus",type:"primary",size:"small"},"\u8f93\u5165\u6dd8\u5b9d\u8ba2\u5355"),a.a.createElement(D.a,{icon:"upload",type:"primary",size:"small",style:{marginLeft:"15px"}},"\u5904\u7406\u6dd8\u96c6\u96c6\u8ba2\u5355")),a.a.createElement(T.a,{dataSource:t.toJS(),columns:[{title:"ID",dataIndex:"id",key:"id",sorter:!0,width:60},{title:"\u8ba2\u5355\u53f7",dataIndex:"order_id",key:"order_id"},{title:"\u6536\u8d27\u4eba",dataIndex:"receiver_name",key:"receiver_name"},{title:"\u7535\u8bdd",dataIndex:"receiver_cellphone",key:"receiver_cellphone"},{title:"\u6536\u8d27\u5730\u5740",dataIndex:"receiver_address",key:"receiver_address"},{title:"\u5feb\u9012\u516c\u53f8",dataIndex:"logistic_company_name",key:"logistic_company_name"},{title:"\u8fd0\u5355\u53f7",dataIndex:"logistic_bill_number",key:"logistic_bill_number"},{title:"\u4e0b\u5355\u65f6\u95f4",dataIndex:"create_time",key:"create_time",sorter:!0,width:120}],loading:c,pagination:r.toJS(),onChange:function(e,t,r){var n=N({},i.getState().orderList.get("table").toJS().pager,{current:e.current,pageSize:e.pageSize}),a=n.current,c={},o=!1;if("undefined"!=typeof r.columnKey){var s=r.columnKey,p="ascend"==r.order?"asc":"desc";c[s]={name:s,dir:p},o=!0}c=o?c:h,n.current=a,u(O(n)),u(d(c)),setTimeout((function(){l()}),0)},size:"small",bordered:!0,rowKey:"id"}))))))},K=function(e){return a.a.createElement(H,null)},G=r(314),U=r.n(G),M=r(320),Q=r(317);function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var V={Accept:"application/json","Content-Type":"application/json"},W=window.g;function X(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="".concat(W.baseUrl,"tb-order-list"),r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(r,!0).forEach((function(t){Object(l.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},{},{},e),n=!1;return new Promise((function(e,a){fetch(t,{method:"post",headers:V,credentials:"same-origin",body:JSON.stringify(r)}).then((function(e){return n=e.ok,e.ok,e.json()})).then((function(t){n?e(t):a(t)})).catch((function(e){a(e)}))}))}var Y=U.a.mark(te),Z=U.a.mark(re);function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(r,!0).forEach((function(t){Object(l.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function te(e){var t,r,n,a;return U.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,console.log("action",e),t=e.payload.pager,r=e.payload.params,c.next=6,Object(Q.d)(y(!0));case 6:return c.next=8,Object(Q.b)(X,r);case 8:return n=c.sent,a=ee({},t,{total:parseInt(n.records_filtered)}),c.next=12,Object(Q.d)(O(a));case 12:return c.next=14,Object(Q.d)(f(n.data));case 14:return c.next=16,Object(Q.d)(y(!1));case 16:c.next=23;break;case 18:return c.prev=18,c.t0=c.catch(0),c.next=22,Object(Q.d)(y(!1));case 22:console.log("table list refresh error",c.t0);case 23:case"end":return c.stop()}}),Y,null,[[0,18]])}function re(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.e)(b.type,te);case 2:case"end":return e.stop()}}),Z)}var ne=[Object(Q.c)(re)],ae=U.a.mark(ce);function ce(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.a)(Object(M.a)(ne));case 2:case"end":return e.stop()}}),ae)}function oe(){var e=Object(u.a)(),t=Object(i.e)(E,Object(i.a)(e));e.run(ce),Object(c.render)(a.a.createElement(o.a,{store:t},a.a.createElement(K,null)),document.getElementById("root-container"))}function ie(){oe()}r.d(t,"mainModule",(function(){return oe})),r.d(t,"init",(function(){return ie}))}}]);
//# sourceMappingURL=4.61cca757.chunk.js.map